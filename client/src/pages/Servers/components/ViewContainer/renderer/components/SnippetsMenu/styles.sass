@use "@/common/styles/colors"

.snippets-menu-overlay
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  background: rgba(0, 0, 0, 0.5)
  backdrop-filter: blur(4px)
  z-index: 9999
  display: flex
  align-items: center
  justify-content: center

.snippets-menu
  position: relative
  width: 500px
  max-width: 90vw
  max-height: 70vh
  background-color: colors.$lighter-background
  border: 1px solid colors.$dark-gray
  border-radius: 0.75rem
  padding: 0.375rem
  box-shadow: 0 12px 48px rgba(0, 0, 0, 0.5), 0 4px 16px rgba(0, 0, 0, 0.3)
  display: flex
  flex-direction: column
  overflow: hidden
  opacity: 0
  transform: scale(0.95) translateY(-8px)
  transition: opacity 0.12s cubic-bezier(0.4, 0, 0.2, 1), transform 0.12s cubic-bezier(0.4, 0, 0.2, 1)
  pointer-events: none

  &.open
    opacity: 1
    transform: scale(1) translateY(0)
    pointer-events: auto

  &.closed
    opacity: 0
    transform: scale(0.95) translateY(-8px)
    pointer-events: none

  &__search
    padding: 0.625rem 0.75rem
    border-bottom: 1px solid colors.$dark-gray
    display: flex
    align-items: center
    gap: 0.75rem
    margin-bottom: 0.25rem
    flex-shrink: 0

    svg
      width: 1.125rem
      height: 1.125rem
      color: colors.$subtext
      flex-shrink: 0
      opacity: 0.9

    input
      flex: 1
      background: transparent
      border: none
      outline: none
      color: colors.$white
      font-size: 0.9rem
      padding: 0

      &::placeholder
        color: colors.$subtext

  &__content
    display: flex
    flex-direction: column
    overflow-y: auto
    overflow-x: hidden
    flex: 1
    scrollbar-width: thin
    scrollbar-color: colors.$gray colors.$lighter-background

    &::-webkit-scrollbar
      width: 6px

    &::-webkit-scrollbar-track
      background: transparent

    &::-webkit-scrollbar-thumb
      background-color: colors.$gray
      border-radius: 10px

  &__no-results
    padding: 1.5rem 1rem
    text-align: center
    color: colors.$subtext
    font-size: 0.9rem

    p
      margin: 0

  &__list
    padding: 0.25rem
    display: flex
    flex-direction: column
    gap: 0.25rem

  &__item
    padding: 0.75rem
    background-color: colors.$dark-gray
    border-radius: 0.5rem
    cursor: pointer
    transition: background-color 0.1s ease
    user-select: none
    outline: none
    display: flex
    flex-direction: column
    gap: 0.5rem

    &:hover, &.highlighted
      background-color: colors.$gray

    &.highlighted
      outline: 2px solid colors.$primary
      outline-offset: -2px

    &-header
      display: flex
      align-items: center
      justify-content: space-between
      gap: 0.5rem

      .organization-badge
        font-size: 0.65rem
        padding: 0.15rem 0.4rem
        background-color: colors.$primary
        color: colors.$white
        border-radius: 0.2rem
        font-weight: 600
        text-transform: uppercase
        letter-spacing: 0.5px
        flex-shrink: 0

    &-name
      margin: 0
      color: colors.$white
      font-size: 0.9rem
      font-weight: 600
      word-break: break-word

    &-description
      margin: 0
      color: colors.$subtext
      font-size: 0.85rem
      line-height: 1.4
      word-break: break-word

    &-command
      margin: 0
      padding: 0.625rem
      background-color: colors.$darker-gray
      border: 1px solid colors.$gray
      border-radius: 0.4rem
      color: colors.$white
      font-family: monospace
      font-size: 0.8rem
      white-space: pre-wrap
      word-break: break-all
      max-height: 120px
      overflow: hidden

  &__source-badge
    width: 0.9rem
    height: 0.9rem
    color: colors.$primary
    flex-shrink: 0
    margin-left: auto