@use "@/common/styles/colors"

.tags-submenu
  min-width: 200px
  max-width: 250px
  max-height: 400px
  overflow-y: auto
  overflow-x: hidden

  .submenu-divider
    height: 1px
    background: colors.$dark-gray
    margin: 4px 0

  .tag-item
    display: flex
    align-items: center
    gap: 0.75rem
    position: relative
    justify-content: space-between
    padding: 0.625rem 0.75rem
    width: 100%
    color: colors.$white

    .tag-clickable
      display: flex
      align-items: center
      gap: 0.75rem
      flex: 1
      cursor: pointer

      p
        margin: 0
        font-size: 0.9rem

    .tag-color
      width: 10px
      height: 10px
      border-radius: 50%
      flex-shrink: 0

    .check-icon
      width: 16px
      height: 16px
      opacity: 0.8
      margin-left: auto

    .tag-menu-button
      display: flex
      align-items: center
      justify-content: center
      width: 24px
      height: 24px
      border-radius: 4px
      cursor: pointer
      transition: background 0.2s
      flex-shrink: 0

      &:hover
        background: colors.$dark-gray

    .tag-dropdown-menu
      position: absolute
      right: 35px
      bottom: 0
      background: colors.$lighter-background
      border: 1px solid colors.$dark-gray
      border-radius: 0.75rem
      box-shadow: 0 12px 48px rgba(0, 0, 0, 0.5), 0 4px 16px rgba(0, 0, 0, 0.3)
      overflow: hidden
      z-index: 10002
      min-width: 150px
      padding: 0.375rem

      .dropdown-item
        display: flex
        align-items: center
        gap: 0.75rem
        padding: 0.625rem 0.75rem
        cursor: pointer
        transition: background-color 0.1s ease
        font-size: 0.9rem
        border-radius: 0.5rem
        color: colors.$white

        &:hover
          background: colors.$gray

        &.delete
          color: colors.$error

          &:hover
            background: colors.$error-opacity

  .create-tag-form
    padding: 0.625rem 0.75rem
    display: flex
    flex-direction: column
    gap: 0.75rem

    input
      padding: 0.8rem
      background: colors.$lighter-background
      border: 1px solid colors.$gray
      border-radius: 0.7rem
      color: colors.$white
      font-size: 14px
      outline: none
      transition: all 0.2s
      font-family: inherit

      &:focus
        border-color: colors.$primary
        background: colors.$dark-gray

      &::placeholder
        color: colors.$subtext

    .color-picker
      display: grid
      grid-template-columns: repeat(6, 1fr)
      gap: 6px
      padding: 4px 0

      .color-option
        width: 24px
        height: 24px
        border-radius: 50%
        cursor: pointer
        border: 2px solid transparent
        transition: all 0.2s

        &:hover
          transform: scale(1.15)
          border-color: colors.$gray

        &.selected
          border-color: colors.$white
          box-shadow: 0 0 0 1px colors.$dark-gray

    .form-actions
      display: flex
      gap: 6px
      margin-top: 4px

      button
        flex: 1
        padding: 0.625rem 0.75rem
        border: 1px solid colors.$gray
        border-radius: 0.7rem
        cursor: pointer
        font-size: 0.9rem
        font-weight: 500
        transition: all 0.15s ease
        font-family: inherit

        &:first-child
          background: colors.$primary
          color: colors.$white
          border-color: colors.$primary

          &:hover
            filter: brightness(0.8)

          &:active
            transform: scale(0.97)

          &:disabled
            opacity: 0.5
            cursor: not-allowed

        &:last-child
          background: transparent
          color: colors.$white

          &:hover
            background: colors.$gray

          &:active
            transform: scale(0.97)
